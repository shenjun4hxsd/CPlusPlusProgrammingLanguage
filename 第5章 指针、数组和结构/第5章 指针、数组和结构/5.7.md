##结构

&emsp;&emsp;数组是相同类型的元素的一个聚集。一个struct则是（差不多）任意类型元素的一个聚集。例如，

```javascript
    struct address
    {
        char* name;            // "Jim Dandy"
        long int number;       // 61
        char* street;          // "South St"
        char* town;            // "New Providence"
        char state[2];         // 'N' 'J'
        long zip;              // 7974
    };
```

这定义了一个新类型，名为address，它由一些你所需要的以便能给某人发送邮件的条目组成。请注意最后的分号。这是C++里很少有的几处在花括号之后还需要写分号的地方，因此人们很容易忘记它。

&emsp;&emsp;类型为address的变量可以像其他变量一样声明，其中的各个成员可以通过.（圆点）运算符访问。例如，

```javascript
    void f()
    {
        address jd;
        jd.name = "Jim Dandy";
        jd.number = 61;
    }
```

用于对数组初始化的记法形式也适用于初始化结构类型的变量。例如，

```javascript
    address jd = {
        "Jim Dandy",
        61, "South St",
        "New Providence", {'N', 'J'}, 7974
    };
```

当然，一般来说采用构造函数（10.2.3节）更好一些。请注意，jd.state不能用字符串"NJ"去初始化。字符串总以字符'\0'结束，这样，“NJ”实际上就有三个字符---比jd.state的需要多了一个。

&emsp;&emsp;结构对象常常通过指针用 -> 运算符（结构指针间接）访问。例如，

```javascript
    void print_addr(address* p)
    {
        cout << p->name << '\n'
             << p->number << ' ' << p->street << '\n'
             << p->town << '\n'
             << p->state[0] << p->state[1] << ' ' << p->zip << '\n'; 
    }
```

当p是指针时，p->m等价于(*p).m。

&emsp;&emsp;结构类型的对象可以被赋值、作为函数参数传递、作为函数的返回值返回。例如，

```javascript
    address current;
    
    address set_current(address next)
    {
        address prev = current;
        current = next;
        return prev;
    }
```





