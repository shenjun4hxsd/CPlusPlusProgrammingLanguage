##æ•°ç»„

&emsp;&emsp;ä¹Ÿå¯ä»¥ç”¨newå»ºç«‹å¯¹è±¡çš„æ•°ç»„ã€‚ä¾‹å¦‚ï¼Œ

```javascript
    char* save_string(const char* p)
    {
        char* s = new char[strlen(p) + 1];
        strcpy(s, p);        // ä»på¤åˆ¶åˆ°s
        return s;
    }
    
    int main(int argc, char* argv[])
    {
        if(argc < 2) exit(1);
        char* p = save_string(argv[1]);
        // ...
        delete [] p;
    }
```

â€œç®€å•çš„â€ deleteè¿ç®—ç¬¦åªèƒ½ç”¨äºåˆ é™¤å•ä¸ªçš„å¯¹è±¡ï¼Œåˆ é™¤æ•°ç»„éœ€è¦ç”¨delete[]ã€‚

&emsp;&emsp;ä¸ºäº†é‡Šæ”¾ç”±newåˆ†é…çš„ç©ºé—´ï¼Œdeleteå’Œdelete[]å¿…é¡»èƒ½å¤Ÿç¡®å®šä¸ºå¯¹è±¡åˆ†é…çš„ç©ºé—´å¤§å°ã€‚è¿™ä¹Ÿæ„å‘³ç€é€šè¿‡æ ‡å‡†å®ç°çš„newåˆ†é…çš„å¯¹è±¡å°†å ç”¨æ¯”é™æ€å¯¹è±¡ç¨å¾®å¤§ä¸€ç‚¹çš„ç©ºé—´ã€‚åœ¨å…¸å‹æƒ…å†µä¸‹éœ€è¦ç”¨ä¸€ä¸ªæœºå™¨å­—ä¿å­˜å¯¹è±¡çš„å¤§å°ã€‚

&emsp;&emsp;è¯·æ³¨æ„ï¼Œä¸€ä¸ªvectorï¼ˆ3.7.1èŠ‚ã€16.3èŠ‚ï¼‰æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ã€‚å› æ­¤å¯ä»¥ç”¨ç®€å•çš„newå’Œdeleteåˆ†é…å’Œé‡Šæ”¾ã€‚ä¾‹å¦‚ï¼Œ

```javascript
    void f(int n)
    {
        vector<int>* p = new vector<int>(n);        // å•ä¸ªçš„å¯¹è±¡
        int* q = new int[n];                        // æ•°ç»„
        // ...
        delete p;
        delete[] q;
    }
```

delete[] è¿ç®—ç¬¦åªèƒ½åº”ç”¨äºç”±newè¿”å›çš„åˆ°ä¸€ä¸ªæ•°ç»„çš„æŒ‡é’ˆæˆ–è€…0ï¼Œåº”ç”¨åˆ°0æ—¶ä¸ä¼šäº§ç”Ÿä»»ä½•å½±å“ã€‚

>æ³¨æ„âš ï¸ï¼šä¸ºäº†ä½¿deleteèƒ½æ­£ç¡®çš„é‡Šæ”¾ç”±newåˆ†é…çš„ç©ºé—´ï¼Œè¯·ä¸è¦ç§»åŠ¨æŒ‡é’ˆçš„ä½ç½®ã€‚ â€”-æ²ˆå†›æ³¨

ğŸ”š